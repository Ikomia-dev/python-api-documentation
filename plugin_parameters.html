<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Parameters management &mdash; Ikomia API  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/ikomia.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Task management" href="plugin_task.html" />
    <link rel="prev" title="Interactive plugin" href="interactive_plugin.html" />
 
<link href="http://netdna.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #150E83" >

    <a href="index.html" class="icon icon-home"> Ikomia API
        

        
        
        <img src="_static/app.png" class="logo" alt="Logo" />
        
    </a>

    
    
    
    <div class="version">
        0.8.0
    </div>
    
    

    <!-- Github button -->
    <a href="https://github.com/Ikomia-dev/IkomiaApi" class="btn btn-neutral" title="GitHub Ikomia API" target="_blank" rel="noopener noreferrer">
        <img id="github-logo" src="_static/GitHub-Mark-32px.png" alt="">
        <span style="vertical-align:middle">GitHub</span>
    </a>

    
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
    
        </div>
    <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
        
        
        
        
        <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="index_api.html">Implement Computer Vision workflows for your application</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index_plugin.html">Create your algorithm for Ikomia platform</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="index_plugin.html#the-plugin-structure">The plugin structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="index_plugin.html#getting-started">Getting started</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index_plugin.html#going-deeper">Going deeper</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Parameters management</a></li>
<li class="toctree-l3"><a class="reference internal" href="plugin_task.html">Task management</a></li>
<li class="toctree-l3"><a class="reference internal" href="plugin_io.html">Input/Output management</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index_plugin.html#examples">Examples</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="modules.html">API Reference</a></li>
</ul>

        
        
    </div>

    <!-- Social media icons -->
    <div class="social-list">
        <a class="social-item" href="https://fr.linkedin.com/company/ikomia" target="_blank" data-wpel-link="external" rel="external noopener noreferrer">
            <i class="fa fa-linkedin-square"></i>
        </a>
        <a class="social-item" href="https://twitter.com/IkomiaOfficial" target="_blank" data-wpel-link="external" rel="external noopener noreferrer">
            <i class="fa fa-twitter-square"></i>
        </a>
        <a class="social-item" href="https://www.youtube.com/channel/UC0nIasJy6f-b-f0SOEsBlQw" target="_blank" data-wpel-link="external" rel="external noopener noreferrer">
            <i class="fa fa-youtube-play"></i>
        </a>
    </div>
    
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #150E83" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Ikomia API</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="index_plugin.html">Create your algorithm for Ikomia platform</a> &raquo;</li>
      <li>Parameters management</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/plugin_parameters.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul><div class="rst-breadcrumbs-buttons" role="navigation" aria-label="Sequential page navigation">
        <a href="interactive_plugin.html" class="btn btn-neutral float-left" title="Interactive plugin" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="plugin_task.html" class="btn btn-neutral float-right" title="Task management" accesskey="n">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
  </div>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="parameters-management">
<h1>Parameters management<a class="headerlink" href="#parameters-management" title="Permalink to this heading"></a></h1>
<section id="core-concept">
<h2>Core concept<a class="headerlink" href="#core-concept" title="Permalink to this heading"></a></h2>
<p>Algorithms often comes with parameters to adjust produced results. The Ikomia platform handles parameters in standalone class that will be shared across the process implementation and the UI widget.
Basically, this class must inherit <a class="reference internal" href="_autosummary/_autosummaryv/ikomia.core.pycore.CWorkflowTaskParam.html#ikomia.core.pycore.CWorkflowTaskParam" title="ikomia.core.pycore.CWorkflowTaskParam"><code class="xref py py-mod docutils literal notranslate"><span class="pre">CWorkflowTaskParam</span></code></a> (C++ base class). It should include definition of your parameters variables as member and reimplement 2 methods:</p>
<ul class="simple">
<li><p><a class="reference internal" href="_autosummary/_autosummaryv/ikomia.core.pycore.CWorkflowTaskParam.html#ikomia.core.pycore.CWorkflowTaskParam.setParamMap" title="ikomia.core.pycore.CWorkflowTaskParam.setParamMap"><code class="xref py py-meth docutils literal notranslate"><span class="pre">setParamMap()</span></code></a>: called when loading workflow from file or from Ikomia Studio internal database. It must set member variable values from a dict-like structure (key-value pairs).</p></li>
<li><p><a class="reference internal" href="_autosummary/_autosummaryv/ikomia.core.pycore.CWorkflowTaskParam.html#ikomia.core.pycore.CWorkflowTaskParam.getParamMap" title="ikomia.core.pycore.CWorkflowTaskParam.getParamMap"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getParamMap()</span></code></a>: called when saving workflow in file or in Ikomia Studio internal database. It returns parameter keys and values as a dict-like structure.</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">ikomia</span> <span class="kn">import</span> <span class="n">core</span>

<span class="k">class</span> <span class="nc">MyParam</span><span class="p">(</span><span class="n">core</span><span class="o">.</span><span class="n">CWorkflowTaskParam</span><span class="p">):</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">core</span><span class="o">.</span><span class="n">CWorkflowTaskParam</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">kernel_size</span> <span class="o">=</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sigma_x</span> <span class="o">=</span> <span class="mf">1.0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sigma_y</span> <span class="o">=</span> <span class="mf">1.0</span>

    <span class="k">def</span> <span class="nf">setParam</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">param_map</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">kernel_size</span> <span class="o">=</span> <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">param_map</span><span class="p">[</span><span class="s2">&quot;kernel_size_x&quot;</span><span class="p">]),</span> <span class="nb">int</span><span class="p">(</span><span class="n">param_map</span><span class="p">[</span><span class="s2">&quot;kernel_size_y&quot;</span><span class="p">]))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sigma_x</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">param_map</span><span class="p">[</span><span class="s2">&quot;sigma_x&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sigma_y</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">param_map</span><span class="p">[</span><span class="s2">&quot;sigma_y&quot;</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">getParam</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">param_map</span> <span class="o">=</span> <span class="n">core</span><span class="o">.</span><span class="n">ParamMap</span><span class="p">()</span>
        <span class="n">param_map</span><span class="p">[</span><span class="s2">&quot;kernel_size_x&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">kernel_size</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">param_map</span><span class="p">[</span><span class="s2">&quot;kernel_size_y&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">kernel_size</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="n">param_map</span><span class="p">[</span><span class="s2">&quot;sigma_x&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sigma_x</span><span class="p">)</span>
        <span class="n">param_map</span><span class="p">[</span><span class="s2">&quot;sigma_y&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sigma_y</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">param_map</span>
</pre></div>
</div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>the dict-like structure handles only <strong>str</strong> type for both key and value. Thus, one should take care to set valid conversion from the original parameter type (int, float, bool…) to str.</p>
</div>
</section>
<section id="inherit-from-the-pure-python-base-class">
<h2>Inherit from the pure Python base class<a class="headerlink" href="#inherit-from-the-pure-python-base-class" title="Permalink to this heading"></a></h2>
<p>As an option, it is possible to inherit your parameter class from a pure Python base class
(<a class="reference internal" href="_autosummary/_autosummaryv/ikomia.core.task.TaskParam.html#ikomia.core.task.TaskParam" title="ikomia.core.task.TaskParam"><code class="xref py py-mod docutils literal notranslate"><span class="pre">TaskParam</span></code></a>) that make it easier. Indeed, parameters are managed directly
in a dict member instead of defining one variable for each parameter. Another small advantage is that
the method <em>getParamMap()</em> has not to be reimplemented anymore.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">ikomia.core.task</span> <span class="kn">import</span> <span class="n">TaskParam</span>

<span class="k">class</span> <span class="nc">MyParam</span><span class="p">(</span><span class="n">TaskParam</span><span class="p">):</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">core</span><span class="o">.</span><span class="n">TaskParam</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cfg</span><span class="p">[</span><span class="s2">&quot;kernel_size&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cfg</span><span class="p">[</span><span class="s2">&quot;sigma_x&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cfg</span><span class="p">[</span><span class="s2">&quot;sigma_y&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.0</span>

    <span class="k">def</span> <span class="nf">setParam</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">param_map</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cfg</span><span class="p">[</span><span class="s2">&quot;kernel_size&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">param_map</span><span class="p">[</span><span class="s2">&quot;kernel_size_x&quot;</span><span class="p">]),</span> <span class="nb">int</span><span class="p">(</span><span class="n">param_map</span><span class="p">[</span><span class="s2">&quot;kernel_size_y&quot;</span><span class="p">]))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cfg</span><span class="p">[</span><span class="s2">&quot;sigma_x&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">param_map</span><span class="p">[</span><span class="s2">&quot;sigma_x&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cfg</span><span class="p">[</span><span class="s2">&quot;sigma_y&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">param_map</span><span class="p">[</span><span class="s2">&quot;sigma_y&quot;</span><span class="p">])</span>
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="interactive_plugin.html" class="btn btn-neutral float-left" title="Interactive plugin" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="plugin_task.html" class="btn btn-neutral float-right" title="Task management" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020, Ikomia SAS.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>