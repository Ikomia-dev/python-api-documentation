<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Going deeper with workflows &mdash; Ikomia API  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/ikomia.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Working with tasks" href="working_with_task.html" />
    <link rel="prev" title="First steps with workflows" href="first_steps_workflow.html" />
 
<link href="http://netdna.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #150E83" >

    <a href="index.html" class="icon icon-home"> Ikomia API
        

        
        
        <img src="_static/app.png" class="logo" alt="Logo" />
        
    </a>

    
    
    
    <div class="version">
        0.8.0
    </div>
    
    

    <!-- Github button -->
    <a href="https://github.com/Ikomia-dev/IkomiaApi" class="btn btn-neutral" title="GitHub Ikomia API" target="_blank" rel="noopener noreferrer">
        <img id="github-logo" src="_static/GitHub-Mark-32px.png" alt="">
        <span style="vertical-align:middle">GitHub</span>
    </a>

    
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
    
        </div>
    <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
        
        
        
        
        <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index_api.html">Implement Computer Vision workflows for your application</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="index_api.html#registration-free">Registration (free)</a></li>
<li class="toctree-l2"><a class="reference internal" href="index_api.html#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="index_api.html#concepts">Concepts</a></li>
<li class="toctree-l2"><a class="reference internal" href="index_api.html#authentication">Authentication</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index_api.html#in-practice">In practice</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="first_steps_workflow.html">First steps with workflows</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Going deeper with workflows</a></li>
<li class="toctree-l3"><a class="reference internal" href="working_with_task.html">Working with tasks</a></li>
<li class="toctree-l3"><a class="reference internal" href="display_tools.html">Display tools for debugging</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="index_plugin.html">Create your algorithm for Ikomia platform</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="modules.html">API Reference</a></li>
</ul>

        
        
    </div>

    <!-- Social media icons -->
    <div class="social-list">
        <a class="social-item" href="https://fr.linkedin.com/company/ikomia" target="_blank" data-wpel-link="external" rel="external noopener noreferrer">
            <i class="fa fa-linkedin-square"></i>
        </a>
        <a class="social-item" href="https://twitter.com/IkomiaOfficial" target="_blank" data-wpel-link="external" rel="external noopener noreferrer">
            <i class="fa fa-twitter-square"></i>
        </a>
        <a class="social-item" href="https://www.youtube.com/channel/UC0nIasJy6f-b-f0SOEsBlQw" target="_blank" data-wpel-link="external" rel="external noopener noreferrer">
            <i class="fa fa-youtube-play"></i>
        </a>
    </div>
    
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #150E83" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Ikomia API</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="index_api.html">Implement Computer Vision workflows for your application</a> &raquo;</li>
      <li>Going deeper with workflows</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/going_deeper_workflow.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul><div class="rst-breadcrumbs-buttons" role="navigation" aria-label="Sequential page navigation">
        <a href="first_steps_workflow.html" class="btn btn-neutral float-left" title="First steps with workflows" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="working_with_task.html" class="btn btn-neutral float-right" title="Working with tasks" accesskey="n">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
  </div>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="going-deeper-with-workflows">
<h1>Going deeper with workflows<a class="headerlink" href="#going-deeper-with-workflows" title="Permalink to this heading"></a></h1>
<section id="set-workflow-inputs">
<h2>Set workflow inputs<a class="headerlink" href="#set-workflow-inputs" title="Permalink to this heading"></a></h2>
<p>In the previous section, we use <a class="reference internal" href="_autosummary/_autosummary/ikomia.dataprocess.workflow.Workflow.html#ikomia.dataprocess.workflow.Workflow.run_on" title="ikomia.dataprocess.workflow.Workflow.run_on"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run_on()</span></code></a> to execute a workflow on common inputs.
But this function can only be used for a workflow with a single input. In fact, a workflow object is also a task
(<a class="reference internal" href="_autosummary/_autosummary/ikomia.dataprocess.workflow.Workflow.html#ikomia.dataprocess.workflow.Workflow" title="ikomia.dataprocess.workflow.Workflow"><code class="xref py py-mod docutils literal notranslate"><span class="pre">Workflow</span></code></a> is derived from <code class="xref py py-mod docutils literal notranslate"><span class="pre">CWorkflowTask</span></code>) and you can add as many inputs as you want.
Please find below the generic way to set workflow inputs.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">ikomia.core</span> <span class="kn">import</span> <span class="n">IODataType</span>
<span class="kn">from</span> <span class="nn">ikomia.dataprocess</span> <span class="kn">import</span> <span class="n">workflow</span><span class="p">,</span> <span class="n">CImageIO</span>

<span class="n">wf</span> <span class="o">=</span> <span class="n">workflow</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="s2">&quot;MyWorkflow&quot;</span><span class="p">)</span>
<span class="c1"># create image inputs</span>
<span class="n">first_input</span> <span class="o">=</span> <span class="n">CImageIO</span><span class="p">(</span><span class="n">IODataType</span><span class="o">.</span><span class="n">IMAGE</span><span class="p">,</span> <span class="s2">&quot;1st&quot;</span><span class="p">,</span> <span class="s2">&quot;path/to/image1&quot;</span><span class="p">)</span>
<span class="n">second_input</span> <span class="o">=</span> <span class="n">CImageIO</span><span class="p">(</span><span class="n">IODataType</span><span class="o">.</span><span class="n">IMAGE</span><span class="p">,</span> <span class="s2">&quot;2nd&quot;</span><span class="p">,</span> <span class="s2">&quot;path/to/image2&quot;</span><span class="p">)</span>
<span class="c1"># add 2 inputs</span>
<span class="n">wf</span><span class="o">.</span><span class="n">addInput</span><span class="p">(</span><span class="n">first_input</span><span class="p">)</span>
<span class="n">wf</span><span class="o">.</span><span class="n">addInput</span><span class="p">(</span><span class="n">second_input</span><span class="p">)</span>
<span class="c1"># Or</span>
<span class="n">wf</span><span class="o">.</span><span class="n">setInput</span><span class="p">(</span><span class="n">first_input</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">wf</span><span class="o">.</span><span class="n">setInput</span><span class="p">(</span><span class="n">second_input</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>See <a class="reference internal" href="_autosummary/_autosummary/ikomia.dataprocess.workflow.Workflow.html#ikomia.dataprocess.workflow.Workflow.addInput" title="ikomia.dataprocess.workflow.Workflow.addInput"><code class="xref py py-meth docutils literal notranslate"><span class="pre">addInput()</span></code></a> and <a class="reference internal" href="_autosummary/_autosummary/ikomia.dataprocess.workflow.Workflow.html#ikomia.dataprocess.workflow.Workflow.setInput" title="ikomia.dataprocess.workflow.Workflow.setInput"><code class="xref py py-meth docutils literal notranslate"><span class="pre">setInput()</span></code></a> for details.</p>
<p>The <a class="reference internal" href="_autosummary/_autosummary/ikomia.dataprocess.workflow.Workflow.html#ikomia.dataprocess.workflow.Workflow" title="ikomia.dataprocess.workflow.Workflow"><code class="xref py py-mod docutils literal notranslate"><span class="pre">Workflow</span></code></a> class also provides helper functions to ease the management of image inputs. You can use
<a class="reference internal" href="_autosummary/_autosummary/ikomia.dataprocess.workflow.Workflow.html#ikomia.dataprocess.workflow.Workflow.set_image_input" title="ikomia.dataprocess.workflow.Workflow.set_image_input"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_image_input()</span></code></a> and <a class="reference internal" href="_autosummary/_autosummary/ikomia.dataprocess.workflow.Workflow.html#ikomia.dataprocess.workflow.Workflow.set_directory_input" title="ikomia.dataprocess.workflow.Workflow.set_directory_input"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_directory_input()</span></code></a>
for this specific data type.</p>
</section>
<section id="get-a-specific-workflow-task">
<h2>Get a specific workflow task<a class="headerlink" href="#get-a-specific-workflow-task" title="Permalink to this heading"></a></h2>
<p>In some cases, it may be necessary to access the task object instance directly. The <a class="reference internal" href="_autosummary/_autosummary/ikomia.dataprocess.workflow.Workflow.html#ikomia.dataprocess.workflow.Workflow" title="ikomia.dataprocess.workflow.Workflow"><code class="xref py py-mod docutils literal notranslate"><span class="pre">Workflow</span></code></a> class provides
a single method to get a task from its name: <a class="reference internal" href="_autosummary/_autosummary/ikomia.dataprocess.workflow.Workflow.html#ikomia.dataprocess.workflow.Workflow.find_task" title="ikomia.dataprocess.workflow.Workflow.find_task"><code class="xref py py-meth docutils literal notranslate"><span class="pre">find_task()</span></code></a>. When a workflow has several tasks with the
same name, the function returns the list of candidates. Please note that the candidates are sorted according to their order of insertion in the workflow,
from the oldest to the most recent. You can also specify a zero-based index (insertion order) to get the wanted task only.</p>
<p>Considering the following workflow:</p>
<img alt="_images/workflow_example1.jpg" src="_images/workflow_example1.jpg" />
<p>Here is how you will retrieve a specific task:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">ikomia.dataprocess</span> <span class="kn">import</span> <span class="n">workflow</span>

<span class="n">wf</span> <span class="o">=</span> <span class="n">workflow</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;path/to/workflow&quot;</span><span class="p">)</span>
<span class="c1"># Get the bilateral filter task</span>
<span class="n">bilateral_id</span><span class="p">,</span> <span class="n">bilateral_obj</span> <span class="o">=</span> <span class="n">wf</span><span class="o">.</span><span class="n">find_task</span><span class="p">(</span><span class="s2">&quot;ocv_bilateral_filter&quot;</span><span class="p">)</span>
<span class="c1"># Get the candidates for Canny filter</span>
<span class="c1"># canny_candidates is a list of pairs (id, obj) here</span>
<span class="n">canny_candidates</span> <span class="o">=</span> <span class="n">wf</span><span class="o">.</span><span class="n">find_task</span><span class="p">(</span><span class="s2">&quot;ocv_canny&quot;</span><span class="p">)</span>
<span class="c1"># Get the first inserted Canny filter task</span>
<span class="n">first_canny_id</span><span class="p">,</span> <span class="n">first_canny_obj</span> <span class="o">=</span> <span class="n">wf</span><span class="o">.</span><span class="n">find_task</span><span class="p">(</span><span class="s2">&quot;ocv_canny&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="c1"># Get the second inserted Canny filter task</span>
<span class="n">second_canny_id</span><span class="p">,</span> <span class="n">second_canny_obj</span> <span class="o">=</span> <span class="n">wf</span><span class="o">.</span><span class="n">find_task</span><span class="p">(</span><span class="s2">&quot;ocv_canny&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When you create a workflow from scratch, the function <a class="reference internal" href="_autosummary/_autosummary/ikomia.dataprocess.workflow.Workflow.html#ikomia.dataprocess.workflow.Workflow.add_task" title="ikomia.dataprocess.workflow.Workflow.add_task"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_task()</span></code></a> returns a pair (id, obj) that could be used
to get the task later. In this case, you should call <a class="reference internal" href="_autosummary/_autosummary/ikomia.dataprocess.workflow.Workflow.html#ikomia.dataprocess.workflow.Workflow.getTask" title="ikomia.dataprocess.workflow.Workflow.getTask"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getTask()</span></code></a> with the corresponding id instead of
<a class="reference internal" href="_autosummary/_autosummary/ikomia.dataprocess.workflow.Workflow.html#ikomia.dataprocess.workflow.Workflow.find_task" title="ikomia.dataprocess.workflow.Workflow.find_task"><code class="xref py py-meth docutils literal notranslate"><span class="pre">find_task()</span></code></a> (faster).</p>
</div>
</section>
<section id="get-workflow-outputs">
<h2>Get workflow outputs<a class="headerlink" href="#get-workflow-outputs" title="Permalink to this heading"></a></h2>
<p>The generic way to get workflow outputs is to firstly get the task object and then get its outputs.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">ikomia.dataprocess</span> <span class="kn">import</span> <span class="n">workflow</span>

<span class="n">wf</span> <span class="o">=</span> <span class="n">workflow</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="s2">&quot;ObjectDetection&quot;</span><span class="p">)</span>
<span class="c1"># Store id and object instance while adding task to the workflow</span>
<span class="n">yolov4_id</span><span class="p">,</span> <span class="n">yolov4_obj</span> <span class="o">=</span> <span class="n">wf</span><span class="o">.</span><span class="n">add_task</span><span class="p">(</span><span class="s2">&quot;infer_yolo_v4&quot;</span><span class="p">)</span>
<span class="n">wf</span><span class="o">.</span><span class="n">connect_tasks</span><span class="p">(</span><span class="n">wf</span><span class="o">.</span><span class="n">getRootID</span><span class="p">(),</span> <span class="n">yolov4_id</span><span class="p">)</span>

<span class="n">wf</span><span class="o">.</span><span class="n">run_on</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="s2">&quot;path/to/image.png&quot;</span><span class="p">)</span>

<span class="c1"># Optional use find_task</span>
<span class="n">yolov4_id</span><span class="p">,</span> <span class="n">yolov4_obj</span> <span class="o">=</span> <span class="n">wf</span><span class="o">.</span><span class="n">find_task</span><span class="p">(</span><span class="s2">&quot;infer_yolo_v4&quot;</span><span class="p">)</span>

<span class="c1"># Get outputs</span>
<span class="c1"># 1 - Forwarded source image: CImageIO object</span>
<span class="n">img_output</span> <span class="o">=</span> <span class="n">yolov4_obj</span><span class="o">.</span><span class="n">getOutput</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="c1"># 2 - Graphics objects (box): CGraphicsOutput object</span>
<span class="n">graphics_output</span> <span class="o">=</span> <span class="n">yolov4_obj</span><span class="o">.</span><span class="n">getOutput</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="c1"># 3- Box information: CBlobMeasureIO object</span>
<span class="n">box_output</span> <span class="o">=</span> <span class="n">yolov4_obj</span><span class="o">.</span><span class="n">getOutput</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<p>The <a class="reference internal" href="_autosummary/_autosummary/ikomia.dataprocess.workflow.Workflow.html#ikomia.dataprocess.workflow.Workflow" title="ikomia.dataprocess.workflow.Workflow"><code class="xref py py-mod docutils literal notranslate"><span class="pre">Workflow</span></code></a> class provides convenient methods to get outputs by type. For all these methods,
you could get outputs from the task name or the task id (faster). When using task name, the methods will return a list of outputs for all matching
tasks. When a task has several outputs of the same type, you can specify the output index (zero-based index among all outputs).</p>
<ul class="simple">
<li><p><a class="reference internal" href="_autosummary/_autosummary/ikomia.dataprocess.workflow.Workflow.html#ikomia.dataprocess.workflow.Workflow.get_image_output" title="ikomia.dataprocess.workflow.Workflow.get_image_output"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_image_output()</span></code></a></p></li>
<li><p><a class="reference internal" href="_autosummary/_autosummary/ikomia.dataprocess.workflow.Workflow.html#ikomia.dataprocess.workflow.Workflow.get_graphics_output" title="ikomia.dataprocess.workflow.Workflow.get_graphics_output"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_graphics_output()</span></code></a></p></li>
<li><p><a class="reference internal" href="_autosummary/_autosummary/ikomia.dataprocess.workflow.Workflow.html#ikomia.dataprocess.workflow.Workflow.get_numeric_output" title="ikomia.dataprocess.workflow.Workflow.get_numeric_output"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_numeric_output()</span></code></a></p></li>
<li><p><a class="reference internal" href="_autosummary/_autosummary/ikomia.dataprocess.workflow.Workflow.html#ikomia.dataprocess.workflow.Workflow.get_data_string_output" title="ikomia.dataprocess.workflow.Workflow.get_data_string_output"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_data_string_output()</span></code></a></p></li>
<li><p><a class="reference internal" href="_autosummary/_autosummary/ikomia.dataprocess.workflow.Workflow.html#ikomia.dataprocess.workflow.Workflow.get_blob_measure_output" title="ikomia.dataprocess.workflow.Workflow.get_blob_measure_output"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_blob_measure_output()</span></code></a></p></li>
<li><p><a class="reference internal" href="_autosummary/_autosummary/ikomia.dataprocess.workflow.Workflow.html#ikomia.dataprocess.workflow.Workflow.get_dataset_output" title="ikomia.dataprocess.workflow.Workflow.get_dataset_output"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_dataset_output()</span></code></a></p></li>
<li><p><a class="reference internal" href="_autosummary/_autosummary/ikomia.dataprocess.workflow.Workflow.html#ikomia.dataprocess.workflow.Workflow.get_array_output" title="ikomia.dataprocess.workflow.Workflow.get_array_output"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_array_output()</span></code></a></p></li>
<li><p><a class="reference internal" href="_autosummary/_autosummary/ikomia.dataprocess.workflow.Workflow.html#ikomia.dataprocess.workflow.Workflow.get_path_output" title="ikomia.dataprocess.workflow.Workflow.get_path_output"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_path_output()</span></code></a></p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">ikomia.dataprocess</span> <span class="kn">import</span> <span class="n">workflow</span>

<span class="n">wf</span> <span class="o">=</span> <span class="n">workflow</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="s2">&quot;ObjectDetection&quot;</span><span class="p">)</span>
<span class="c1"># Store id and object instance while adding task to the workflow</span>
<span class="n">yolov4_id</span><span class="p">,</span> <span class="n">yolov4_obj</span> <span class="o">=</span> <span class="n">wf</span><span class="o">.</span><span class="n">add_task</span><span class="p">(</span><span class="s2">&quot;infer_yolo_v4&quot;</span><span class="p">)</span>
<span class="n">wf</span><span class="o">.</span><span class="n">connect_tasks</span><span class="p">(</span><span class="n">wf</span><span class="o">.</span><span class="n">getRootID</span><span class="p">(),</span> <span class="n">yolov4_id</span><span class="p">)</span>

<span class="n">wf</span><span class="o">.</span><span class="n">run_on</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="s2">&quot;path/to/image.png&quot;</span><span class="p">)</span>

<span class="n">img_output</span> <span class="o">=</span> <span class="n">wf</span><span class="o">.</span><span class="n">get_image_output</span><span class="p">(</span><span class="n">yolov4_id</span><span class="p">)</span>
<span class="n">graphics_output</span> <span class="o">=</span> <span class="n">wf</span><span class="o">.</span><span class="n">get_graphics_output</span><span class="p">(</span><span class="n">yolov4_id</span><span class="p">)</span>
<span class="n">box_output</span> <span class="o">=</span> <span class="n">wf</span><span class="o">.</span><span class="n">get_blob_measure_output</span><span class="p">(</span><span class="n">yolov4_id</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>We provide high-level methods to handle image outputs. Thus from a workflow object, you can access image array directly
(<a class="reference internal" href="_autosummary/_autosummary/ikomia.dataprocess.workflow.Workflow.html#ikomia.dataprocess.workflow.Workflow.get_image" title="ikomia.dataprocess.workflow.Workflow.get_image"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_image()</span></code></a>) or compute the merge image (for visualization) between graphics and image
outputs (<a class="reference internal" href="_autosummary/_autosummary/ikomia.dataprocess.workflow.Workflow.html#ikomia.dataprocess.workflow.Workflow.get_image_with_graphics" title="ikomia.dataprocess.workflow.Workflow.get_image_with_graphics"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_image_with_graphics()</span></code></a>).</p>
</div>
</section>
<section id="handle-the-workflow-graph-structure">
<h2>Handle the workflow graph structure<a class="headerlink" href="#handle-the-workflow-graph-structure" title="Permalink to this heading"></a></h2>
<p>A workflow is a graph where the nodes are the runnable tasks (algorithms) and the links between nodes are connections from task outputs to task inputs.
Basically, you need two methods to build your own workflow:</p>
<ul class="simple">
<li><p><a class="reference internal" href="_autosummary/_autosummary/ikomia.dataprocess.workflow.Workflow.html#ikomia.dataprocess.workflow.Workflow.add_task" title="ikomia.dataprocess.workflow.Workflow.add_task"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_task()</span></code></a>: instanciate an algorithm object and add it to the workflow. All algorithms are identified by their unique names and the function uses this name to create instance (factory design pattern). Instanciation process firstly searches for installed algorithms in the registry. If not found, it searches in Ikomia HUB and do all installation steps automatically. Note that this installation can take a while (download package and install dependencies) but it will be executed once.</p></li>
<li><p><a class="reference internal" href="_autosummary/_autosummary/ikomia.dataprocess.workflow.Workflow.html#ikomia.dataprocess.workflow.Workflow.connect_tasks" title="ikomia.dataprocess.workflow.Workflow.connect_tasks"><code class="xref py py-meth docutils literal notranslate"><span class="pre">connect_tasks()</span></code></a>: connect 2 tasks of the workflow so that output data from the source task will be forwarded to target task input when running the workflow.</p></li>
</ul>
<p>The first way to connect tasks is to let the system create connections automatically based on input and output data types. This will work well in simple scenarios.
In the following example, we will create a simple workflow composed by a Box Filter (noise reduction) and CLAHE algorithm (histogram equalization). Both tasks have
2 inputs (IMAGE + GRAPHICS) and 1 output (IMAGE). In this simple case, auto-connection will work well and make the code easy.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">ikomia.utils</span> <span class="kn">import</span> <span class="n">ik</span>
<span class="kn">from</span> <span class="nn">ikomia.dataprocess</span> <span class="kn">import</span> <span class="n">workflow</span>

<span class="n">wf</span> <span class="o">=</span> <span class="n">workflow</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="s2">&quot;MyWorkflow&quot;</span><span class="p">)</span>

<span class="c1"># Add Box Filter</span>
<span class="n">box_filter_id</span><span class="p">,</span> <span class="n">box_filter</span> <span class="o">=</span> <span class="n">wf</span><span class="o">.</span><span class="n">add_task</span><span class="p">(</span><span class="n">ik</span><span class="o">.</span><span class="n">ocv_box_filter</span><span class="p">)</span>

<span class="c1"># Connect to root (auto-connection)</span>
<span class="n">wf</span><span class="o">.</span><span class="n">connect_tasks</span><span class="p">(</span><span class="n">wf</span><span class="o">.</span><span class="n">getRootID</span><span class="p">(),</span> <span class="n">box_filter_id</span><span class="p">)</span>

<span class="c1"># Add CLAHE</span>
<span class="n">clahe_id</span><span class="p">,</span> <span class="n">clahe</span> <span class="o">=</span> <span class="n">wf</span><span class="o">.</span><span class="n">add_task</span><span class="p">(</span><span class="n">ik</span><span class="o">.</span><span class="n">ocv_clahe</span><span class="p">)</span>

<span class="c1"># Connect to Box Filter (auto-connection)</span>
<span class="n">wf</span><span class="o">.</span><span class="n">connect_tasks</span><span class="p">(</span><span class="n">box_filter_id</span><span class="p">,</span> <span class="n">clahe_id</span><span class="p">)</span>
</pre></div>
</div>
<p>If you want to have a full control in the connection mechanism, you could set manually the list of connections between 2 tasks. A connection is defined as a pair of index,
the first one being the output index of the source task, the second being the input index of the target task. You must pass a list of pairs because 2 tasks can be connected
by multiple output-input links. Adding a DT Filter with manual connections to the previous workflow will look like this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Add DT Filter algorithm to the workflow</span>
<span class="n">dtfilter_id</span><span class="p">,</span> <span class="n">dtfilter</span> <span class="o">=</span> <span class="n">wf</span><span class="o">.</span><span class="n">add_task</span><span class="p">(</span><span class="n">ik</span><span class="o">.</span><span class="n">ocv_dt_filter</span><span class="p">)</span>

<span class="c1"># Connect to CLAHE with manual connections</span>
<span class="n">wf</span><span class="o">.</span><span class="n">connect_tasks</span><span class="p">(</span><span class="n">clahe_id</span><span class="p">,</span> <span class="n">dtfilter_id</span><span class="p">,</span> <span class="p">[(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)])</span>
</pre></div>
</div>
<p>The <a class="reference internal" href="_autosummary/_autosummary/ikomia.dataprocess.workflow.Workflow.html#ikomia.dataprocess.workflow.Workflow" title="ikomia.dataprocess.workflow.Workflow"><code class="xref py py-mod docutils literal notranslate"><span class="pre">Workflow</span></code></a> class provides also functions to browse the graph structure of an existing workflow. Consult
<a class="reference internal" href="_autosummary/_autosummary/ikomia.dataprocess.workflow.Workflow.html#ikomia.dataprocess.workflow.Workflow.getTaskIDs" title="ikomia.dataprocess.workflow.Workflow.getTaskIDs"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getTaskIDs()</span></code></a>, <a class="reference internal" href="_autosummary/_autosummary/ikomia.dataprocess.workflow.Workflow.html#ikomia.dataprocess.workflow.Workflow.getTask" title="ikomia.dataprocess.workflow.Workflow.getTask"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getTask()</span></code></a>,
<a class="reference internal" href="_autosummary/_autosummary/ikomia.dataprocess.workflow.Workflow.html#ikomia.dataprocess.workflow.Workflow.getParents" title="ikomia.dataprocess.workflow.Workflow.getParents"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getParents()</span></code></a>, <a class="reference internal" href="_autosummary/_autosummary/ikomia.dataprocess.workflow.Workflow.html#ikomia.dataprocess.workflow.Workflow.getFinalTasks" title="ikomia.dataprocess.workflow.Workflow.getFinalTasks"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getFinalTasks()</span></code></a>,
<a class="reference internal" href="_autosummary/_autosummary/ikomia.dataprocess.workflow.Workflow.html#ikomia.dataprocess.workflow.Workflow.getInEdges" title="ikomia.dataprocess.workflow.Workflow.getInEdges"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getInEdges()</span></code></a>, <a class="reference internal" href="_autosummary/_autosummary/ikomia.dataprocess.workflow.Workflow.html#ikomia.dataprocess.workflow.Workflow.getOutEdges" title="ikomia.dataprocess.workflow.Workflow.getOutEdges"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getOutEdges()</span></code></a>,
<a class="reference internal" href="_autosummary/_autosummary/ikomia.dataprocess.workflow.Workflow.html#ikomia.dataprocess.workflow.Workflow.getEdgeSource" title="ikomia.dataprocess.workflow.Workflow.getEdgeSource"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getEdgeSource()</span></code></a>, <a class="reference internal" href="_autosummary/_autosummary/ikomia.dataprocess.workflow.Workflow.html#ikomia.dataprocess.workflow.Workflow.getEdgeTarget" title="ikomia.dataprocess.workflow.Workflow.getEdgeTarget"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getEdgeTarget()</span></code></a>,
<a class="reference internal" href="_autosummary/_autosummary/ikomia.dataprocess.workflow.Workflow.html#ikomia.dataprocess.workflow.Workflow.getEdgeInfo" title="ikomia.dataprocess.workflow.Workflow.getEdgeInfo"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getEdgeInfo()</span></code></a> for details.</p>
</section>
<section id="create-a-deep-learning-training-workflow">
<h2>Create a Deep Learning training workflow<a class="headerlink" href="#create-a-deep-learning-training-workflow" title="Permalink to this heading"></a></h2>
<p>Training deep learning models is an important use case of Ikomia API. The workflow approach is also well suited for this case and you can handle it
with few lines of code. Basically, it will consist in 2 main tasks:</p>
<ul class="simple">
<li><p>a dataset loader that will convert your custom dataset structure into the Ikomia Dataset structure. This conversion is mandatory to leverage all training algorithms you can find in Ikomia HUB. We provide dataset loader of common formats like COCO, PascalVOC, YOLO…</p></li>
<li><p>a training algorithm. You will find various algorithms in Ikomia HUB for classification, object detection, segmentation…</p></li>
</ul>
<p>Here is an example of a training workflow for a YOLOv4 model and a custom dataset in YOLO format (grapes detection):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">ikomia.utils</span> <span class="kn">import</span> <span class="n">ik</span>
<span class="kn">from</span> <span class="nn">ikomia.dataprocess</span> <span class="kn">import</span> <span class="n">workflow</span>

<span class="n">wf</span> <span class="o">=</span> <span class="n">workflow</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="s2">&quot;MyTrainingWorkflow&quot;</span><span class="p">)</span>

<span class="c1"># Add dataset loader for grapes dataset</span>
<span class="c1"># No need to connect dataset loader task to root node as it does not need workflow input</span>
<span class="n">wgisd_id</span><span class="p">,</span> <span class="n">wgisd</span> <span class="o">=</span> <span class="n">wf</span><span class="o">.</span><span class="n">add_task</span><span class="p">(</span><span class="s2">&quot;dataset_wgisd&quot;</span><span class="p">)</span>
<span class="n">dataset_params</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">ik</span><span class="o">.</span><span class="n">dataset_wgisd_param</span><span class="o">.</span><span class="n">data_folder_path</span><span class="p">:</span> <span class="s2">&quot;path/to/data/folder&quot;</span><span class="p">,</span>
    <span class="n">ik</span><span class="o">.</span><span class="n">dataset_wgisd_param</span><span class="o">.</span><span class="n">class_file_path</span><span class="p">:</span> <span class="s2">&quot;path/to/class/file.txt&quot;</span>
<span class="p">}</span>
<span class="n">wf</span><span class="o">.</span><span class="n">set_parameters</span><span class="p">(</span><span class="n">dataset_params</span><span class="p">,</span> <span class="n">task_id</span><span class="o">=</span><span class="n">wgisd_id</span><span class="p">)</span>

<span class="c1"># Add YOLO training algorithm</span>
<span class="n">yolo_id</span><span class="p">,</span> <span class="n">yolo</span> <span class="o">=</span> <span class="n">wf</span><span class="o">.</span><span class="n">add_task</span><span class="p">(</span><span class="n">ik</span><span class="o">.</span><span class="n">train_yolo</span><span class="p">)</span>
<span class="n">yolo_params</span> <span class="o">=</span> <span class="p">{</span> <span class="n">ik</span><span class="o">.</span><span class="n">train_yolo_param</span><span class="o">.</span><span class="n">model</span><span class="p">:</span> <span class="s2">&quot;yolov4&quot;</span> <span class="p">}</span>
<span class="n">wf</span><span class="o">.</span><span class="n">set_parameters</span><span class="p">(</span><span class="n">yolo_params</span><span class="p">,</span> <span class="n">task_id</span><span class="o">=</span><span class="n">yolo_id</span><span class="p">)</span>
<span class="n">wf</span><span class="o">.</span><span class="n">connect_tasks</span><span class="p">(</span><span class="n">wgisd_id</span><span class="p">,</span> <span class="n">yolo_id</span><span class="p">)</span>

<span class="c1"># Start training</span>
<span class="n">wf</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Ikomia API integrates MLflow and Tensorboard for training monitoring. Depending on the algorithm implementation,
you will have access to metrics, parameters, artifacts in MLflow or Tensorboard or both.</p>
</div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>If you need a model not present in Ikomia HUB, it is quiet easy to port your preferred model in Ikomia ecosystem.
Documentation can be found <a class="reference internal" href="index_plugin.html"><span class="doc">here</span></a> and <a class="reference internal" href="plugin_task.html"><span class="doc">here</span></a>.</p>
</div>
</section>
<section id="working-with-video-files">
<h2>Working with video files<a class="headerlink" href="#working-with-video-files" title="Permalink to this heading"></a></h2>
<p>Processing video files is available out of the box. Ikomia API leverages OpenCV video reader capabilities to apply
any workflows on whole video. Basically, it will execute the workflow on every frames and return when all frames are
processed. You should enable the auto-save mode (<a class="reference internal" href="_autosummary/_autosummaryv/ikomia.core.pycore.CWorkflowTask.html#ikomia.core.pycore.CWorkflowTask.setAutoSave" title="ikomia.core.pycore.CWorkflowTask.setAutoSave"><code class="xref py py-meth docutils literal notranslate"><span class="pre">setAutoSave()</span></code></a>) at
workflow or task level to save outputs to disk. Output folder can be set at either workflow or task level also
(<a class="reference internal" href="_autosummary/_autosummaryv/ikomia.core.pycore.CWorkflowTask.html#ikomia.core.pycore.CWorkflowTask.setOutputFolder" title="ikomia.core.pycore.CWorkflowTask.setOutputFolder"><code class="xref py py-meth docutils literal notranslate"><span class="pre">setOutputFolder()</span></code></a>), default is the user home folder.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">ikomia.dataprocess</span> <span class="kn">import</span> <span class="n">workflow</span>

<span class="n">wf</span> <span class="o">=</span> <span class="n">workflow</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;path_to_your_workflow&quot;</span><span class="p">)</span>
<span class="c1"># Enable auto-save mode to let Ikomia API save outputs to disk for all tasks</span>
<span class="n">wf</span><span class="o">.</span><span class="n">setAutoSave</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="c1"># Video from local filesystem</span>
<span class="n">wf</span><span class="o">.</span><span class="n">run_on</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="s2">&quot;path_to_your_video.avi&quot;</span><span class="p">)</span>
<span class="c1"># Video from public url</span>
<span class="n">wf</span><span class="o">.</span><span class="n">run_on</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="s2">&quot;url_of_your_video&quot;</span><span class="p">)</span>
<span class="c1"># Batch processing from a folder</span>
<span class="n">wf</span><span class="o">.</span><span class="n">run_on</span><span class="p">(</span><span class="n">folder</span><span class="o">=</span><span class="s2">&quot;local_folder_containing_your_videos&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="working-with-video-streams">
<h2>Working with video streams<a class="headerlink" href="#working-with-video-streams" title="Permalink to this heading"></a></h2>
<p>At this time, we do not offer high level API to handle streams. On the other hand, it is very simple to
run a workflow on each frame acquired by a third-party video library. Here is an example with OpenCV:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">ikomia.utils</span> <span class="kn">import</span> <span class="n">ik</span>
<span class="kn">from</span> <span class="nn">ikomia.dataprocess</span> <span class="kn">import</span> <span class="n">workflow</span>
<span class="kn">import</span> <span class="nn">cv2</span>

<span class="c1"># Initializing stream capture</span>
<span class="n">cap</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">VideoCapture</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

<span class="c1"># Build workflow</span>
<span class="n">wf</span> <span class="o">=</span> <span class="n">workflow</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="s2">&quot;MyVideoWorkflow&quot;</span><span class="p">)</span>
<span class="n">clahe_id</span><span class="p">,</span> <span class="n">clahe</span> <span class="o">=</span> <span class="n">wf</span><span class="o">.</span><span class="n">add_task</span><span class="p">(</span><span class="n">ik</span><span class="o">.</span><span class="n">ocv_clahe</span><span class="p">)</span>
<span class="n">wf</span><span class="o">.</span><span class="n">connect_tasks</span><span class="p">(</span><span class="n">wf</span><span class="o">.</span><span class="n">getRootID</span><span class="p">(),</span> <span class="n">clahe_id</span><span class="p">)</span>
<span class="n">canny_id</span><span class="p">,</span> <span class="n">canny</span> <span class="o">=</span> <span class="n">wf</span><span class="o">.</span><span class="n">add_task</span><span class="p">(</span><span class="n">ik</span><span class="o">.</span><span class="n">ocv_canny</span><span class="p">)</span>
<span class="n">wf</span><span class="o">.</span><span class="n">connect_tasks</span><span class="p">(</span><span class="n">clahe_id</span><span class="p">,</span> <span class="n">canny_id</span><span class="p">)</span>

<span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
    <span class="n">ret</span><span class="p">,</span> <span class="n">img</span> <span class="o">=</span> <span class="n">cap</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
    <span class="c1"># Execute on current frame</span>
    <span class="n">wf</span><span class="o">.</span><span class="n">run_on</span><span class="p">(</span><span class="n">array</span><span class="o">=</span><span class="n">img</span><span class="p">)</span>
    <span class="n">res_img</span> <span class="o">=</span> <span class="n">wf</span><span class="o">.</span><span class="n">get_image</span><span class="p">(</span><span class="n">canny_id</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s2">&quot;Result&quot;</span><span class="p">,</span> <span class="n">res_img</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">cv2</span><span class="o">.</span><span class="n">waitKey</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="mi">27</span><span class="p">:</span>
        <span class="k">break</span>

<span class="n">cv2</span><span class="o">.</span><span class="n">destroyAllWindows</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="get-workflow-time-metrics">
<h2>Get workflow time metrics<a class="headerlink" href="#get-workflow-time-metrics" title="Permalink to this heading"></a></h2>
<p>Ikomia API provides functions to get executing time of a workflow, globally and at task level.</p>
<p>Get the total time (<a class="reference internal" href="_autosummary/_autosummary/ikomia.dataprocess.workflow.Workflow.html#ikomia.dataprocess.workflow.Workflow.getTotalElapsedTime" title="ikomia.dataprocess.workflow.Workflow.getTotalElapsedTime"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getTotalElapsedTime()</span></code></a>):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">ikomia.dataprocess</span> <span class="kn">import</span> <span class="n">workflow</span>

<span class="n">wf</span> <span class="o">=</span> <span class="n">workflow</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;path/to/workflow.json&quot;</span><span class="p">)</span>
<span class="n">wf</span><span class="o">.</span><span class="n">set_image_input</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="s2">&quot;path/to/image.png&quot;</span><span class="p">)</span>
<span class="n">wf</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>

<span class="c1"># Executing time in ms</span>
<span class="n">time_ms</span> <span class="o">=</span> <span class="n">wf</span><span class="o">.</span><span class="n">getTotalElapsedTime</span><span class="p">()</span>
</pre></div>
</div>
<p>Get executing time for each task
(<a class="reference internal" href="_autosummary/_autosummaryv/ikomia.core.pycore.CWorkflowTask.html#ikomia.core.pycore.CWorkflowTask.getElapsedTime" title="ikomia.core.pycore.CWorkflowTask.getElapsedTime"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getElapsedTime()</span></code></a> and
<a class="reference internal" href="_autosummary/_autosummary/ikomia.dataprocess.workflow.Workflow.html#ikomia.dataprocess.workflow.Workflow.getElapsedTimeTo" title="ikomia.dataprocess.workflow.Workflow.getElapsedTimeTo"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getElapsedTimeTo()</span></code></a>):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">ikomia.dataprocess</span> <span class="kn">import</span> <span class="n">workflow</span>

<span class="n">wf</span> <span class="o">=</span> <span class="n">workflow</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;path/to/workflow.json&quot;</span><span class="p">)</span>
<span class="n">wf</span><span class="o">.</span><span class="n">set_image_input</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="s2">&quot;path/to/image.png&quot;</span><span class="p">)</span>
<span class="n">wf</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>

<span class="n">ids</span> <span class="o">=</span> <span class="n">wf</span><span class="o">.</span><span class="n">getTaskIDs</span><span class="p">()</span>
<span class="k">for</span> <span class="n">task_id</span> <span class="ow">in</span> <span class="n">ids</span><span class="p">:</span>
    <span class="n">task</span> <span class="o">=</span> <span class="n">wf</span><span class="o">.</span><span class="n">getTask</span><span class="p">(</span><span class="n">task_id</span><span class="p">)</span>
    <span class="n">time_ms</span> <span class="o">=</span> <span class="n">task</span><span class="o">.</span><span class="n">getElapsedTime</span><span class="p">()</span>
    <span class="n">time_to_ms</span> <span class="o">=</span> <span class="n">wf</span><span class="o">.</span><span class="n">getElapsedTimeTo</span><span class="p">(</span><span class="n">task_id</span><span class="p">)</span>
</pre></div>
</div>
<p>You can also get all metrics in a dict structure (<a class="reference internal" href="_autosummary/_autosummary/ikomia.dataprocess.workflow.Workflow.html#ikomia.dataprocess.workflow.Workflow.get_time_metrics" title="ikomia.dataprocess.workflow.Workflow.get_time_metrics"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_time_metrics()</span></code></a>):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">ikomia.dataprocess</span> <span class="kn">import</span> <span class="n">workflow</span>

<span class="n">wf</span> <span class="o">=</span> <span class="n">workflow</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;path/to/workflow.json&quot;</span><span class="p">)</span>
<span class="n">wf</span><span class="o">.</span><span class="n">set_image_input</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="s2">&quot;path/to/image.png&quot;</span><span class="p">)</span>
<span class="n">wf</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
<span class="n">metrics</span> <span class="o">=</span> <span class="n">wf</span><span class="o">.</span><span class="n">get_time_metrics</span><span class="p">()</span>
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="first_steps_workflow.html" class="btn btn-neutral float-left" title="First steps with workflows" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="working_with_task.html" class="btn btn-neutral float-right" title="Working with tasks" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020, Ikomia SAS.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>